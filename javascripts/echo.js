window.Echo=function(e,t){"use strict";var n,r,o,i=[],a=function(e){var r=e.getBoundingClientRect();return(r.top>=0&&r.left>=0&&r.top)<=(window.innerHeight||t.documentElement.clientHeight)+n},c=function(){var n=i.length;if(n>0)for(var r=0;n>r;r++){var c=i[r];c&&a(c)&&(c.src=c.getAttribute("data-echo"),i.splice(r,1),n=i.length,r--)}else t.removeEventListener?e.removeEventListener("scroll",l):e.detachEvent("onscroll",l),clearTimeout(o)},l=function(){clearTimeout(o),o=setTimeout(c,r)},s=function(o){var a=t.querySelectorAll("[data-echo]"),s=o||{};n=parseInt(s.offset||0),r=parseInt(s.throttle||250);for(var d=0;d<a.length;d++)i.push(a[d]);c(),t.addEventListener?(e.addEventListener("scroll",l,!1),e.addEventListener("load",l,!1)):(e.attachEvent("onscroll",l),e.attachEvent("onload",l))};return{init:s,render:c}}(this,document);